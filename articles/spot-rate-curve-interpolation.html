<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Spot Rate Curve Interpolation • fixedincome</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Spot Rate Curve Interpolation">
<meta property="og:description" content="fixedincome">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fixedincome</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/spot-rate-curve-indexing.html">Spot Rate Curve Indexing</a>
    </li>
    <li>
      <a href="../articles/spot-rate-curve-interpolation.html">Spot Rate Curve Interpolation</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/wilsonfreitas/R-fixedincome/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="spot-rate-curve-interpolation_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Spot Rate Curve Interpolation</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/wilsonfreitas/R-fixedincome/blob/HEAD/vignettes/spot-rate-curve-interpolation.Rmd" class="external-link"><code>vignettes/spot-rate-curve-interpolation.Rmd</code></a></small>
      <div class="hidden name"><code>spot-rate-curve-interpolation.Rmd</code></div>

    </div>

    
    
<p>The <code>fixedincome</code> package implements many interpolation methods for spot rate curve. All interpolation methods inherits the S4 class <code>Interpolation</code>. Once you instantiate an Interpolation object, it has to be set to a SpotRateCurve object and this is done throught the curve’s <code>interpolation&lt;-</code> method.</p>
<p>There is a list with the interpolation methods implemented and their constructors:</p>
<ul>
<li>Flat Forward: <code>interp_flatforward</code>
</li>
<li>Linear: <code>interp_linear</code>
</li>
<li>Log-Linear: <code>interp_loglinear</code>
</li>
<li>Natural Spline: <code>interp_naturalspline</code>
</li>
<li>Hermite Spline: <code>interp_hermitespline</code>
</li>
<li>Nelson Siegel: <code>interp_nelsonsiegel</code>
</li>
<li>Nelson Siegel Svensson: <code>interp_nelsonsiegelsvensson</code>
</li>
<li>Flat Forward COPOM: <code>interp_flatforwardcopom</code> (thru <a href="https://github.com/wilsonfreitas/copom" class="external-link">copom</a> package)</li>
</ul>
<p>Here it follows an example on how to create and set an interpolation to a spot rate curve.</p>
<p>Let’s start by creating a curve using data obtained with <a href="https://github.com/wilsonfreitas/rb3" class="external-link">rb3</a> package.</p>
<p>Firstly, the packages have to be loaded.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/wilsonfreitas/rb3" class="external-link">rb3</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/wilsonfreitas/R-bizdays" class="external-link">bizdays</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/wilsonfreitas/R-fixedincome" class="external-link">fixedincome</a></span><span class="op">)</span></span></code></pre></div>
<p>Use the <code><a href="https://rdrr.io/pkg/bizdays/man/getdate.html" class="external-link">bizdays::getdate</a></code> function to get the last business day, according to <code>Brazil/ANBIMA</code> calendar.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">refdate</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/bizdays/man/getdate.html" class="external-link">getdate</a></span><span class="op">(</span><span class="st">"last bizday"</span>, <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html" class="external-link">Sys.Date</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"Brazil/ANBIMA"</span><span class="op">)</span></span></code></pre></div>
<p>In order to build a term structure formed only by futures maturities, the yield curve data and futures data have to be mixed and this is done with the <code><a href="http://wilsonfreitas.github.io/rb3/reference/yc_superset.html" class="external-link">rb3::yc_superset</a></code> function. Once the superset is returned, the rows related to futures maturities can be filtered. The first term, usually 1 business day term, is also used to anchor the curve’s short part.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">yc_</span> <span class="op">&lt;-</span> <span class="fu"><a href="http://wilsonfreitas.github.io/rb3/reference/yc_get.html" class="external-link">yc_get</a></span><span class="op">(</span><span class="va">refdate</span><span class="op">)</span></span>
<span><span class="va">fut_</span> <span class="op">&lt;-</span> <span class="fu"><a href="http://wilsonfreitas.github.io/rb3/reference/futures_get.html" class="external-link">futures_get</a></span><span class="op">(</span><span class="va">refdate</span><span class="op">)</span></span>
<span><span class="va">yc_ss</span> <span class="op">&lt;-</span> <span class="fu"><a href="http://wilsonfreitas.github.io/rb3/reference/yc_superset.html" class="external-link">yc_superset</a></span><span class="op">(</span><span class="va">yc_</span>, <span class="va">fut_</span><span class="op">)</span></span>
<span><span class="va">yc</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind.html" class="external-link">bind_rows</a></span><span class="op">(</span></span>
<span>  <span class="va">yc_ss</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>,</span>
<span>  <span class="va">yc_ss</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">symbol</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">yc</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 39 × 7</span></span></span>
<span><span class="co">#&gt;    refdate    cur_days biz_days forward_date r_252 r_360 symbol</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> 2022-07-14        1        1 2022-07-15   0.132 0     <span style="color: #BB0000;">NA</span>    </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> 2022-07-14       18       12 2022-08-01   0.132 0.125 DI1Q22</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> 2022-07-14       49       35 2022-09-01   0.134 0.137 DI1U22</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> 2022-07-14       81       56 2022-10-03   0.136 0.134 DI1V22</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> 2022-07-14      110       76 2022-11-01   0.137 0.135 DI1X22</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> 2022-07-14      140       96 2022-12-01   0.138 0.135 DI1Z22</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> 2022-07-14      172      118 2023-01-02   0.139 0.136 DI1F23</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> 2022-07-14      202      140 2023-02-01   0.140 0.138 DI1G23</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> 2022-07-14      230      158 2023-03-01   0.140 0.138 DI1H23</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> 2022-07-14      263      181 2023-04-03   0.141 0.138 DI1J23</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># … with 29 more rows</span></span></span></code></pre></div>
<p>With the curve data prepared, the <code>spotratecurve</code> is created.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sp_curve</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spotratecurve.html">spotratecurve</a></span><span class="op">(</span></span>
<span>  <span class="va">yc</span><span class="op">$</span><span class="va">r_252</span>, <span class="va">yc</span><span class="op">$</span><span class="va">biz_days</span>,</span>
<span>  <span class="st">"discrete"</span>, <span class="st">"business/252"</span>, <span class="st">"Brazil/ANBIMA"</span>,</span>
<span>  refdate <span class="op">=</span> <span class="va">refdate</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">sp_curve</span></span>
<span><span class="co">#&gt;          SpotRateCurve</span></span>
<span><span class="co">#&gt; 1 day           0.1315</span></span>
<span><span class="co">#&gt; 12 days         0.1315</span></span>
<span><span class="co">#&gt; 35 days         0.1343</span></span>
<span><span class="co">#&gt; 56 days         0.1356</span></span>
<span><span class="co">#&gt; 76 days         0.1368</span></span>
<span><span class="co">#&gt; 96 days         0.1381</span></span>
<span><span class="co">#&gt; 118 days        0.1390</span></span>
<span><span class="co">#&gt; 140 days        0.1399</span></span>
<span><span class="co">#&gt; 158 days        0.1403</span></span>
<span><span class="co">#&gt; 181 days        0.1409</span></span>
<span><span class="co">#&gt; # ... with 29 more rows</span></span>
<span><span class="co">#&gt; discrete business/252 Brazil/ANBIMA </span></span>
<span><span class="co">#&gt; Reference date: 2022-07-14</span></span></code></pre></div>
<p>From the output above it is possible to observe that this curve does not have an interpolation method defined.</p>
<p>Let’s, for example, define a flat forward interpolation for this curve. The FlatForward object is created and set to the curve with the <code>interpolation&lt;-</code> method.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/interpolation.html">interpolation</a></span><span class="op">(</span><span class="va">sp_curve</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/interpolation-constructor.html">interp_flatforward</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">sp_curve</span></span>
<span><span class="co">#&gt;          SpotRateCurve</span></span>
<span><span class="co">#&gt; 1 day           0.1315</span></span>
<span><span class="co">#&gt; 12 days         0.1315</span></span>
<span><span class="co">#&gt; 35 days         0.1343</span></span>
<span><span class="co">#&gt; 56 days         0.1356</span></span>
<span><span class="co">#&gt; 76 days         0.1368</span></span>
<span><span class="co">#&gt; 96 days         0.1381</span></span>
<span><span class="co">#&gt; 118 days        0.1390</span></span>
<span><span class="co">#&gt; 140 days        0.1399</span></span>
<span><span class="co">#&gt; 158 days        0.1403</span></span>
<span><span class="co">#&gt; 181 days        0.1409</span></span>
<span><span class="co">#&gt; # ... with 29 more rows</span></span>
<span><span class="co">#&gt; discrete business/252 Brazil/ANBIMA </span></span>
<span><span class="co">#&gt; Reference date: 2022-07-14 </span></span>
<span><span class="co">#&gt; Interpolation: flatforward</span></span></code></pre></div>
<p>Now the output shows the curve with the interpolation defined.</p>
<div class="section level2">
<h2 id="interpolate-with">Interpolate with <code>[[</code><a class="anchor" aria-label="anchor" href="#interpolate-with"></a>
</h2>
<p>The spot rate curve method <code>[[</code> is used to interpolte the curve. The term is passed as a Term object or numeric and a spot rate curve is returned with all interpolated values.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sp_curve</span><span class="op">[[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">21</span>, <span class="fl">42</span>, <span class="fl">63</span><span class="op">)</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt;         SpotRateCurve</span></span>
<span><span class="co">#&gt; 21 days        0.1333</span></span>
<span><span class="co">#&gt; 42 days        0.1349</span></span>
<span><span class="co">#&gt; 63 days        0.1361</span></span>
<span><span class="co">#&gt; discrete business/252 Brazil/ANBIMA </span></span>
<span><span class="co">#&gt; Reference date: 2022-07-14</span></span></code></pre></div>
<p>The term 21 doesn’t exist in the spot rate curve, so it is interpolated according to the interpolation method defined. Since the flat forward interpolation just connect the dots, the terms 42 and 63 have the same values of the spot rate curve.</p>
<p>Other interpolation methods can be set with the <code>interpolation</code> method overriding any method set previously.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/interpolation.html">interpolation</a></span><span class="op">(</span><span class="va">sp_curve</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/interpolation-constructor.html">interp_naturalspline</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">sp_curve</span><span class="op">[[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">21</span>, <span class="fl">42</span>, <span class="fl">63</span><span class="op">)</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt;         SpotRateCurve</span></span>
<span><span class="co">#&gt; 21 days        0.1324</span></span>
<span><span class="co">#&gt; 42 days        0.1349</span></span>
<span><span class="co">#&gt; 63 days        0.1360</span></span>
<span><span class="co">#&gt; discrete business/252 Brazil/ANBIMA </span></span>
<span><span class="co">#&gt; Reference date: 2022-07-14</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="unset-interpolation">Unset interpolation<a class="anchor" aria-label="anchor" href="#unset-interpolation"></a>
</h2>
<p>Set interpolation to <code>NULL</code> to unset the interpolation.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/interpolation.html">interpolation</a></span><span class="op">(</span><span class="va">sp_curve</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span><span class="va">sp_curve</span><span class="op">[[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">21</span>, <span class="fl">42</span>, <span class="fl">63</span><span class="op">)</span><span class="op">]</span><span class="op">]</span></span>
<span><span class="co">#&gt;         SpotRateCurve</span></span>
<span><span class="co">#&gt; 21 days            NA</span></span>
<span><span class="co">#&gt; 42 days            NA</span></span>
<span><span class="co">#&gt; 63 days            NA</span></span>
<span><span class="co">#&gt; discrete business/252 Brazil/ANBIMA </span></span>
<span><span class="co">#&gt; Reference date: 2022-07-14</span></span></code></pre></div>
<p>Note that for those terms in the <code>[[</code> method that don’t have a related term in the spot rate curve, <code>NA</code> is returned.</p>
</div>
<div class="section level2">
<h2 id="plot-with-interpolation">Plot with interpolation<a class="anchor" aria-label="anchor" href="#plot-with-interpolation"></a>
</h2>
<p>The <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">fixedincome::plot</a></code> method for the spot rate curve has an argument <code>use_interpolation</code> that shows the interpolation together with the curve points. This argument defaults to <code>FALSE</code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/interpolation.html">interpolation</a></span><span class="op">(</span><span class="va">sp_curve</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/interpolation-constructor.html">interp_flatforward</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">sp_curve</span>, use_interpolation <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="spot-rate-curve-interpolation_files/figure-html/unnamed-chunk-10-1.png" width="100%"></p>
<div class="section level3">
<h3 id="forward-rates-with-and-without-interpolation-set">Forward rates with and without interpolation set<a class="anchor" aria-label="anchor" href="#forward-rates-with-and-without-interpolation-set"></a>
</h3>
<p>Once the interpolation is set, the <code>plot</code> method uses it to calculate daily forward rates. Otherwise, it uses the forward rates between the curve terms. Set the <code>show_forward</code> argument to <code>TRUE</code> to show the forward rates.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/interpolation.html">interpolation</a></span><span class="op">(</span><span class="va">sp_curve</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">sp_curve</span>, show_forward <span class="op">=</span> <span class="cn">TRUE</span>, legend_location <span class="op">=</span> <span class="st">"bottomright"</span><span class="op">)</span></span></code></pre></div>
<p><img src="spot-rate-curve-interpolation_files/figure-html/unnamed-chunk-11-1.png" width="100%"></p>
<p>The forward rates are drawn with step lines.</p>
<p>If the <code>use_interpolation</code> argument is <code>TRUE</code> then the daily forward rates are calculated with the defined interpolation.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/interpolation.html">interpolation</a></span><span class="op">(</span><span class="va">sp_curve</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/interpolation-constructor.html">interp_flatforward</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">sp_curve</span>, use_interpolation <span class="op">=</span> <span class="cn">TRUE</span>, show_forward <span class="op">=</span> <span class="cn">TRUE</span>, legend_location <span class="op">=</span> <span class="st">"bottomright"</span><span class="op">)</span></span></code></pre></div>
<p><img src="spot-rate-curve-interpolation_files/figure-html/unnamed-chunk-12-1.png" width="100%"></p>
<p>It is possible to note that the flat forward daily rates are fairly close to curve terms forward rates.</p>
<p>As the interpolation changes its effects can be viewed in the forward rates dynamic.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/interpolation.html">interpolation</a></span><span class="op">(</span><span class="va">sp_curve</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/interpolation-constructor.html">interp_naturalspline</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">sp_curve</span>, use_interpolation <span class="op">=</span> <span class="cn">TRUE</span>, show_forward <span class="op">=</span> <span class="cn">TRUE</span>, legend_location <span class="op">=</span> <span class="st">"bottomright"</span><span class="op">)</span></span></code></pre></div>
<p><img src="spot-rate-curve-interpolation_files/figure-html/unnamed-chunk-13-1.png" width="100%"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Wilson Freitas.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.5.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
